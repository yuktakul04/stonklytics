# AI Chat Assistant Setup Guide

This guide explains how to set up the AI chat assistant feature for Stonklytics.

## Features

The AI chat assistant provides:

- Real-time answers to finance and stock-related questions
- Market analysis and insights
- Investment strategy explanations
- Technical and fundamental analysis help
- Educational information about financial concepts

## Backend Setup

### 1. Install Required Package

Navigate to the backend directory and install the Google Generative AI package:

```bash
cd backend
pip install google-generativeai
```

Or install from requirements.txt:

```bash
pip install -r requirements.txt
```

### 2. Get Gemini API Key

1. Visit [Google AI Studio](https://makersuite.google.com/app/apikey)
2. Sign in with your Google account
3. Click "Create API Key"
4. Copy your API key

### 3. Configure Environment Variables

Create a `.env` file in the `backend` directory (if it doesn't exist) and add:

```env
GEMINI_API_KEY=your_gemini_api_key_here
```

Replace `your_gemini_api_key_here` with your actual Gemini API key.

## Frontend Setup

No additional setup required. The chat interface is already integrated into the Dashboard.

## Usage

1. Log in to Stonklytics
2. Click the "AI Assistant" button in the top left corner of the Dashboard
3. A chat sidebar will slide in from the left
4. Type your finance or stock-related questions
5. Get instant AI-powered responses!

## API Endpoint

The chat functionality is exposed at:

```
POST /api/chat
```

Request body:

```json
{
  "message": "Your question here",
  "history": []
}
```

Response:

```json
{
  "message": "AI response",
  "role": "model"
}
```

## Security

- The endpoint requires Firebase authentication
- API key is stored securely in environment variables
- Chat history is not persisted (session-only)

## Troubleshooting

### "Gemini API key not configured" error

- Make sure you've added `GEMINI_API_KEY` to your `.env` file
- Restart your Django server after adding the environment variable

### Chat interface not opening

- Check browser console for errors
- Ensure you're logged in with Firebase authentication

### No response from AI

- Verify your API key is valid
- Check that you have internet connectivity
- Review backend server logs for errors

## Notes

- The AI provides educational information only, not financial advice
- Responses are generated by Google's Gemini 1.5 Flash model
- Chat history is maintained during the session but not saved to database

# Stonklytics

A modern stock market analytics platform with AI-powered insights, real-time data, and portfolio tracking.

![Stonklytics](https://img.shields.io/badge/Stonklytics-Stock%20Analytics-blue)
![Python](https://img.shields.io/badge/Python-3.10+-green)
![React](https://img.shields.io/badge/React-18+-61DAFB)
![Django](https://img.shields.io/badge/Django-DRF-092E20)

## Features

### ðŸ“Š Stock Analytics
- **Real-time stock data** from Polygon.io API
- **Historical price charts** with multiple views (Line, Area, Volume)
- **OHLC data** (Open, High, Low, Close)
- **Market cap & volume** statistics
- **Company search** with autocomplete

### ðŸ¤– AI-Powered Insights
- **AI Chat Assistant** - Ask questions about stocks, markets, and investing (powered by Gemini)
- **AI Stock Summaries** - Get instant AI-generated analysis for any stock
- **AI Market News** - Daily market news generated by AI (no API rate limits!)

### ðŸ“ˆ Portfolio Management
- **Multiple Watchlists** - Create and manage watchlists
- **Track stocks** - Add/remove stocks from watchlists
- **Real-time prices** - View current prices for watchlist items

### ðŸ“° News & Fundamentals
- **Stock News** - Latest news articles from Polygon.io
- **Cash Flow Statements** - Quarterly financial data
- **Income Statements** (Coming Soon)
- **Balance Sheets** (Coming Soon)

### ðŸŽ¨ Modern UI
- Clean, matte dark theme
- Responsive design
- Inter & JetBrains Mono fonts
- Smooth animations

---

## Tech Stack

| Layer | Technology |
|-------|------------|
| **Frontend** | React 18, Vite, Tailwind CSS |
| **Backend** | Django 4, Django REST Framework |
| **Database** | SQLite (dev), PostgreSQL (prod) |
| **Authentication** | Firebase Auth (Email/Password) |
| **Stock Data** | Polygon.io API |
| **AI** | Google Gemini 2.5 Flash |

---

## Prerequisites

- **Python** 3.10+
- **Node.js** 18+ & **npm**
- **Git**

---

## Project Structure

```
stonklytics/
â”œâ”€â”€ backend/                 # Django API
â”‚   â”œâ”€â”€ api/                 # Auth, Chat, Watchlist, Summary endpoints
â”‚   â”œâ”€â”€ stock/               # Stock data, News, Financials endpoints
â”‚   â”œâ”€â”€ backend/             # Django settings
â”‚   â”œâ”€â”€ .env                 # Environment variables (create this)
â”‚   â”œâ”€â”€ manage.py
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/                # React + Vite
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/      # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ pages/           # Page components
â”‚   â”‚   â”œâ”€â”€ api.js           # API client
â”‚   â”‚   â”œâ”€â”€ firebase.ts      # Firebase config
â”‚   â”‚   â””â”€â”€ index.css        # Global styles
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â””â”€â”€ README.md
```

---

## Quick Start

### 1. Clone the Repository

```bash
git clone https://github.com/yuktakul04/stonklytics.git
cd stonklytics
```

### 2. Backend Setup

```bash
cd backend

# Create virtual environment
python3 -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate

# Install dependencies
pip install -U pip
pip install -r requirements.txt

# Create .env file
touch .env
```

Add the following to `backend/.env`:

```env
POLYGON_API_KEY=your_polygon_api_key
GEMINI_API_KEY=your_gemini_api_key
```

Run migrations and start the server:

```bash
python manage.py migrate
python manage.py runserver
```

Backend runs at: **http://127.0.0.1:8000**

### 3. Frontend Setup

Open a new terminal:

```bash
cd frontend
npm install
npm run dev
```

Frontend runs at: **http://localhost:5173**

---

## Environment Variables

### Backend (`backend/.env`)

| Variable | Description | Required |
|----------|-------------|----------|
| `POLYGON_API_KEY` | API key from [Polygon.io](https://polygon.io) | Yes |
| `GEMINI_API_KEY` | API key from [Google AI Studio](https://aistudio.google.com/app/apikey) | Yes |

### Frontend (`frontend/src/firebase.ts`)

Configure your Firebase project credentials:

```typescript
const firebaseConfig = {
  apiKey: "your-api-key",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "your-sender-id",
  appId: "your-app-id"
};
```

---

## API Endpoints

### Authentication
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/signup` | Create new user |
| POST | `/api/login` | User login |
| GET | `/api/profile` | Get user profile |

### Stock Data
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/stock/data/?ticker=AAPL` | Get stock data |
| GET | `/api/stock/data/historical/?ticker=AAPL&from=2024-01-01&to=2024-12-01` | Historical prices |
| GET | `/api/stock/search/?q=apple` | Search companies |
| GET | `/api/stock/news/?ticker=AAPL&limit=5` | Stock news |
| GET | `/api/stock/financials/?ticker=AAPL` | Financial statements |

### AI Features
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/chat` | AI chat assistant |
| GET | `/api/summary/{symbol}` | AI stock summary |
| GET | `/api/market-news` | AI-generated market news |

### Watchlist
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/watchlist` | Get all watchlists |
| POST | `/api/watchlist/create` | Create watchlist |
| POST | `/api/watchlist/add` | Add stock to watchlist |
| DELETE | `/api/watchlist/remove/{ticker}` | Remove stock |
| DELETE | `/api/watchlist/delete/{id}` | Delete watchlist |

---

## Firebase Setup

1. Go to [Firebase Console](https://console.firebase.google.com/)
2. Create a new project or select existing
3. Enable **Authentication â†’ Sign-in method â†’ Email/Password**
4. Go to **Project Settings â†’ General â†’ Your apps â†’ Web app**
5. Copy the config to `frontend/src/firebase.ts`

---

## Development

### Running Both Servers

**Terminal 1 - Backend:**
```bash
cd backend
source .venv/bin/activate
python manage.py runserver
```

**Terminal 2 - Frontend:**
```bash
cd frontend
npm run dev
```

### Building for Production

```bash
cd frontend
npm run build
```

The build output will be in `frontend/dist/`.

---

## Troubleshooting

### CORS Issues
Ensure `django-cors-headers` is configured in `backend/backend/settings.py`:
```python
CORS_ALLOWED_ORIGINS = [
    "http://localhost:5173",
    "http://127.0.0.1:5173",
]
```

### Firebase "api-key-not-valid"
- Verify Firebase config in `firebase.ts`
- Check API key restrictions in Google Cloud Console
- Add allowed referrers: `http://localhost:5173/*`

### Polygon API Rate Limits
- Free tier: 5 API calls/minute
- The app caches stock data for 1 hour to reduce API calls
- AI Market News uses Gemini instead of Polygon to save API calls

### Clean Install
```bash
# Frontend
cd frontend
rm -rf node_modules
npm install

# Backend
cd backend
rm -rf .venv
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

---

## Git Workflow

```bash
# Create feature branch
git checkout -b feat/your-feature

# Make changes and commit
git add .
git commit -m "feat: description of changes"

# Push and create PR
git push -u origin feat/your-feature
```

---

## Team

Software Engineering Fall 2025

---

## License

This project is for educational purposes.
